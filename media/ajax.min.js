(function(a){a(document).ready(function(){a("body").on("submit",'[data-mod_jform="ajax"]',function(){var c=a(this),b=a(c).find(".messages");a.ajax({type:"POST",dataType:"json",url:a(c).attr("action"),data:a(c).serializeArray(),beforeSend:function(){a(b).hide();a(b).find(".message").hide().html("")},complete:function(){if(typeof grecaptcha!=="undefined"&&grecaptcha&&grecaptcha.reset){grecaptcha.reset()}},success:function(d){if(d.success){a(b).find(".message.success").html(d.messages.success.join("<br />")).show();a(c)[0].reset()}else{a(b).show();a(b).find(".message.error").html(d.message.replace(/\n/g,"<br />")).show()}a(b).show()},error:function(d){a(b).find(".message.error").html(d.status+":"+d.statusText).show();a(b).show()}});return false})})})(jQuery);